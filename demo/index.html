<!doctype html>
<html>
  <head>
    <meta name="asq-elements" content="width=device-width, initial-scale=1, user-scalable=no">

    <title>asq-diagram-q | Demo</title>

    <script src="../bower_components/webcomponentsjs/webcomponents-lite.js"></script>
    <script>
      window.Polymer = {
        dom: 'shadow',
        lazyRegister: true
      };
    </script>

    <link href="../asq-diagram-q.html" rel="import">


    <style is="custom-style">

      asq-diagram-q {
        display: block;
        margin-bottom: 1em;
      }

      body div {
        /*margin-left: 100px;*/
      }

    </style>

  </head>
  <body unresolved>

    <div>
      <asq-diagram-q id="uml-demo-viewer" uid="" name="diagram1" type="uml" width="600" height="500">
        <asq-stem>This is a UML Exercise</asq-stem>
      </asq-diagram-q>



      <asq-diagram-q id="uml-demo-presenter" uid="" name="diagram2" type="uml" role="presenter" width="600" height="500">
        <asq-stem>This is a UML Exercise</asq-stem>
      </asq-diagram-q>

      <asq-diagram-q id="erd-demo-viewer" uid="" name="diagram3" type="erd" width="600" height="500">
        <asq-stem>This is a ERD Exercise</asq-stem>
      </asq-diagram-q>

      <asq-diagram-q id="erd-demo-presenter" uid="" name="diagram4" type="erd" role="presenter" width="600" height="500">
        <asq-stem>This is a ERD Exercise</asq-stem>
      </asq-diagram-q>

    </div>

    <script>

      var umlDiagram = {
        states: [
          {
            state: {
              size: { height: 78, width: 210 },
              position: { y: 100, x: 220 },
              methods: [ '+ setDateOfBirth(dob: Date): Void', '+ getAgeAsDays(): Numeric' ],
              attributes: [ 'dob: Date' ],
              name: 'Mammal'
            },
            id: '9b2210b8-8d3c-41ba-859e-41c778dac925',
            type: 'interface'
          },
          {
            state: {
              size: { height: 90, width: 276.6038818359375 },
              position: { y: 300, x: 280 },
              methods: [ '+ setName(first: String, last: String): Void', '+ getName(): String' ],
              attributes: [ 'firstName: String', 'lastName: String' ],
              name: 'Person'
            },
            id: '7cb721fa-bad0-40e7-9140-03c64aa253bd',
            type: 'abstract'
          }],
        relations: [
          {
            relation : {
              source : { name: 'Person', id: '7cb721fa-bad0-40e7-9140-03c64aa253bd' },
              target : { name: 'Mammal', id: '9b2210b8-8d3c-41ba-859e-41c778dac925' }
            },
            type: 'implementation',
            vertices: [{x: 420, y: 240}]
          }
        ],
        type: 'uml'
      };
      var umlDiagram2 = {
        states: [
          {
            state: {
              size: { height: 78, width: 207.952911376953125 },
              position: { y: 30, x: 140 },
              methods: [ '+ setDateOfBirth(dob: Date): Void', '+ getAgeAsDays(): Numeric','+ getsomething(): string' ],
              attributes: [ 'dob: Date','dob: Date2','dob: Date3' ],
              name: 'Mammal1'
            },
            id: '9b2210b8-8d3c-41ba-859e-41c778dac925',
            type: 'interface'
          },
          {
            state: {
              size: { height: 90, width: 280 },
              position: { y: 270, x: 310 },
              methods: [ '+ setName(first: String, last: String): Void', '+ getName(): String' ],
              attributes: [ 'firstName: String', 'lastName: String', 'middleName: String' ],
              name: 'Abstract'
            },
            id: '7cb721fa-bad0-40e7-9140-03c64aa253bd',
            type: 'abstract'
          }],
        relations: [
          {
            relation : {
              source : { name: 'Abstract', id: '7cb721fa-bad0-40e7-9140-03c64aa253bd' },
              target : { name: 'Mammal1', id: '9b2210b8-8d3c-41ba-859e-41c778dac925' }
            },
            type: 'implementation',
            vertices: [{x: 320, y: 240}, {x: 450, y: 220}]
          }
        ],
        type: 'uml'
      };
      var erdDiagram = {
        states: [
          {
            label: 'MyEntity',
            id : '16350733-7c63-4d0b-ad26-292c1c6f8206',
            state : {
              position: { x:300  , y: 80 }
            },
            type: 'Entity'
          },
          {
            label: 'MyAttribute',
            id : 'cbb50624-4572-4321-a31f-7ae3b21ce6fb',
            state : {
              position: { x: 490, y: 340 },
            },
            type: 'Key'
          },
        ],
        relations: [
          {
            labels : { sLabel: 'sourceLabel', tLabel: 'targetLabel'},
            relation : {
              source : { id: 'cbb50624-4572-4321-a31f-7ae3b21ce6fb', name: 'MyAttribute' },
              target : { id: '16350733-7c63-4d0b-ad26-292c1c6f8206', name: 'MyEntity' }
            },
            vertices: [ {x: 540, y: 220} ]
          }
        ],
        type: 'erd'
      };

      document.addEventListener('WebComponentsReady', function (evt) {

        // UML
        var uml_viewer = document.getElementById('uml-demo-viewer');
        uml_viewer.value = umlDiagram;

        var uml_presenter = document.getElementById('uml-demo-presenter');
        uml_presenter.$$('asq-diagram-q-presenter')._submissions = [
          {
            answeree: '1234314156',
            diagram: umlDiagram
          },
          {
            answeree: '1234314223',
            diagram: umlDiagram2
          },
          {
            answeree: '1234314324',
            diagram: umlDiagram
          },
          {
            answeree: '1234314571',
            diagram: umlDiagram2
          },
          {
            answeree: '1234314987',
            diagram: umlDiagram
          }
        ];

        // ERD
        var erd_viewer = document.getElementById('erd-demo-viewer');
        erd_viewer.value = erdDiagram;

        var erd_presenter = document.getElementById('erd-demo-presenter');
        erd_presenter.$$('asq-diagram-q-presenter')._submissions = [
          {
            answeree: '1234314156',
            diagram: erdDiagram
          },
          {
            answeree: '1234314223',
            diagram: erdDiagram
          },
          {
            answeree: '1234314324',
            diagram: erdDiagram
          },
          {
            answeree: '1234314571',
            diagram: erdDiagram
          },
          {
            answeree: '1234314987',
            diagram: erdDiagram
          }
        ];
      });
    </script>


  </body>
</html>