<!doctype html>
<html>
  <head>
    <meta name="asq-elements" content="width=device-width, initial-scale=1, user-scalable=no">

    <title>asq-diagram-q | Demo</title>

    <script src="../bower_components/webcomponentsjs/webcomponents-lite.js"></script>
    <script>
      window.Polymer = {
        dom: 'shadow',
        lazyRegister: true
      };
    </script>

    <link href="../asq-diagram-q.html" rel="import">


    <style is="custom-style">

      asq-diagram-q {
        display: block;
        margin-bottom: 1em;
      }

      body div {
        margin-left: 100px;
      }

    </style>


  </head>
  <body unresolved>
    <div>
      <asq-diagram-q id="1234" uid="" name="diagram" width="600" height="600">This is the first test for a diagram question type.</asq-diagram-q>
    </div>

    <script>
      document.addEventListener("WebComponentsReady", function (evt) {
        var diagram = document.getElementById("1234");

        var d_viewer = Polymer.dom(diagram.root).querySelector('asq-diagram-q-viewer');

        var position1 =  { x:100  , y: 20 };
        var position2 =  { x:150  , y: 180 };
        var position3 =  { x:100  , y: 340 };

        d_viewer.addState('interface', 'Mammal', ['dob: Date'],['+ setDateOfBirth(dob: Date): Void','+ getAgeAsDays(): Numeric'], position1);
        d_viewer.addState('abstract', 'Person', ['firstName: String','lastName: String'],['+ setName(first: String, last: String): Void','+ getName(): String'], position2);
        d_viewer.addState('class', 'Woman', [],['+ giveABrith(): Person []'], position3);

        var keys = Object.keys(d_viewer._states);
        d_viewer.addRelation('implementation', keys[1], keys[0]);
        d_viewer.addRelation('generalization', keys[2], keys[1]);

//        d_viewer._deleteState(keys[1]);
      });

    </script>


  </body>
</html>